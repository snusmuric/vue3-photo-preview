(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{438:function(module,exports,__webpack_require__){var api=__webpack_require__(166),content=__webpack_require__(838);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},464:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/1.95c72610.jpg"},465:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/2.2d14a795.jpg"},466:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/3.e6770b67.jpg"},467:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/4.8fc09ded.png"},468:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/5.b3edd1f0.jpg"},469:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/6.28fbd762.png"},470:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/7.4fa37378.jpg"},471:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/8.e3d20bd3.jpg"},494:function(module,exports,__webpack_require__){__webpack_require__(495),__webpack_require__(650),__webpack_require__(651),__webpack_require__(852),__webpack_require__(853),__webpack_require__(855),__webpack_require__(856),__webpack_require__(854),__webpack_require__(848),__webpack_require__(857),__webpack_require__(849),__webpack_require__(851),__webpack_require__(858),module.exports=__webpack_require__(835)},561:function(module,exports){},651:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(211)},835:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(211).configure)([__webpack_require__(836),__webpack_require__(847)],module,!1)}).call(this,__webpack_require__(205)(module))},836:function(module,exports,__webpack_require__){var map={"./stories/Test.stories.mdx":850};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=836},837:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(438)},838:function(module,exports,__webpack_require__){(exports=__webpack_require__(167)(!1)).push([module.i,".view-box{display:inline-block;width:100px;height:100px;margin-right:20px;margin-bottom:20px;cursor:pointer;object-fit:cover}",""]),module.exports=exports},847:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=847},850:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"默认展示",(function(){return Test_stories_})),__webpack_require__.d(__webpack_exports__,"通过按钮触发",(function(){return stories_Test_stories_})),__webpack_require__.d(__webpack_exports__,"异步更新图片地址",(function(){return src_stories_Test_stories_})),__webpack_require__.d(__webpack_exports__,"受控延迟预览",(function(){return src_stories_Test_stories_0}));__webpack_require__(25),__webpack_require__(7),__webpack_require__(30),__webpack_require__(62),__webpack_require__(10),__webpack_require__(403),__webpack_require__(17),__webpack_require__(0);var esm=__webpack_require__(33),dist_esm=__webpack_require__(60),vue3_photo_preview_esm=__webpack_require__(61),vue_esm_bundler=__webpack_require__(2);const _hoisted_1=["src"];var ViewBoxvue_type_script_lang_ts=Object(vue_esm_bundler.defineComponent)({name:"ViewBox",props:{src:{type:String,required:!0}}}),exportHelper=(__webpack_require__(837),__webpack_require__(35));const __exports__=__webpack_require__.n(exportHelper)()(ViewBoxvue_type_script_lang_ts,[["render",function render(_ctx,_cache,$props,$setup,$data,$options){return Object(vue_esm_bundler.openBlock)(),Object(vue_esm_bundler.createElementBlock)("img",{src:_ctx.src,class:"view-box"},null,8,_hoisted_1)}]]);var ViewBox=__exports__;__exports__.__docgenInfo={displayName:"ViewBox",exportName:"default",description:"",tags:{},props:[{name:"src",type:{name:"string"},required:!0}]};var _1=__webpack_require__(464),_1_default=__webpack_require__.n(_1),_2=__webpack_require__(465),_2_default=__webpack_require__.n(_2),_3=__webpack_require__(466),_3_default=__webpack_require__.n(_3),_4=__webpack_require__(467),_4_default=__webpack_require__.n(_4),_5=__webpack_require__(468),_5_default=__webpack_require__.n(_5),_6=__webpack_require__(469),_6_default=__webpack_require__.n(_6),_7=__webpack_require__(470),_7_default=__webpack_require__.n(_7),_8=__webpack_require__(471),_8_default=__webpack_require__.n(_8),imgList=[_1_default.a,_2_default.a,_3_default.a,_4_default.a,_5_default.a,_6_default.a,_7_default.a,_8_default.a],PhotoProvider=__webpack_require__(474),PhotoConsumer=__webpack_require__(473),PhotoSlider=__webpack_require__(226),_excluded=(__webpack_require__(845),["components"]);function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var layoutProps={};function MDXContent(_ref){var components=_ref.components,props=_objectWithoutProperties(_ref,_excluded);return Object(esm.b)("wrapper",_extends({},layoutProps,props,{components:components,mdxType:"MDXLayout"}),Object(esm.b)(dist_esm.d,{title:"vue3-photo-preview",mdxType:"Meta"}),Object(esm.b)("h2",{id:"默认展示"},"默认展示"),Object(esm.b)(dist_esm.c,{mdxType:"Canvas"},Object(esm.b)(dist_esm.e,{name:"默认展示",mdxType:"Story"},(function(){return{data:function data(){return{imgList:imgList}},components:{PhotoProvider:vue3_photo_preview_esm.b,PhotoConsumer:vue3_photo_preview_esm.a,ViewBox:ViewBox},template:'\n          <photo-provider>\n            <photo-consumer v-for="src in imgList" :intro="src" :key="src" :src="src">\n              <view-box :src="src" />\n            </photo-consumer>\n          </photo-provider>\n        '}}))),Object(esm.b)("h2",{id:"通过按钮触发"},"通过按钮触发"),Object(esm.b)(dist_esm.c,{mdxType:"Canvas"},Object(esm.b)(dist_esm.e,{name:"通过按钮触发",mdxType:"Story"},(function(){return{data:function data(){return{imgList:imgList}},components:{PhotoProvider:vue3_photo_preview_esm.b,PhotoConsumer:vue3_photo_preview_esm.a},template:'\n          <photo-provider>\n            <photo-consumer v-for="(src, index) in imgList" :intro="src" :key="src" :src="src">\n              <button v-if="index === 0">打开预览</button>\n            </photo-consumer>\n          </photo-provider>\n        '}}))),Object(esm.b)("h2",{id:"异步更新图片地址"},"异步更新图片地址"),Object(esm.b)(dist_esm.c,{mdxType:"Canvas"},Object(esm.b)(dist_esm.e,{name:"异步更新图片地址",mdxType:"Story"},(function(){return{data:function data(){return{index:0}},computed:{imageSrc:function imageSrc(){return imgList[this.index]}},methods:{asyncChangeSrc:function asyncChangeSrc(){var _this=this;setTimeout((function(){var index=_this.index+1;_this.index=index%imgList.length}),3e3)}},components:{PhotoProvider:vue3_photo_preview_esm.b,PhotoConsumer:vue3_photo_preview_esm.a},template:'\n          <photo-provider>\n            <photo-consumer :intro="imageSrc" :src="imageSrc">\n              <button @click="asyncChangeSrc">打开预览</button>\n            </photo-consumer>\n          </photo-provider>\n        '}}))),Object(esm.b)("h2",{id:"受控延迟预览"},"受控延迟预览"),Object(esm.b)(dist_esm.c,{mdxType:"Canvas"},Object(esm.b)(dist_esm.e,{name:"受控延迟预览",mdxType:"Story"},(function(){return{data:function data(){return{imgList:imgList,index:0,visible:!1,items:imgList.map((function(src){return{src:src,key:src,intro:src}}))}},methods:{changeIndex:function changeIndex(index){this.index=index},delay:function delay(time){return new Promise((function(resolve,reject){setTimeout((function(){resolve()}),1e3*time)}))},handleShow:(_handleShow=_asyncToGenerator(regeneratorRuntime.mark((function _callee(key){var itemIndex;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,this.delay(3);case 2:(itemIndex=this.items.findIndex((function(item){return item.key===key})))>-1&&(this.index=itemIndex,this.visible=!0);case 4:case"end":return _context.stop()}}),_callee,this)}))),function handleShow(_x){return _handleShow.apply(this,arguments)}),handleHide:function handleHide(){this.visible=!1}},components:{PhotoSlider:vue3_photo_preview_esm.c,ViewBox:ViewBox},template:'\n          <view-box\n            v-for="src in imgList"\n            :key="src"\n            :src="src"\n            @click="handleShow(src)"\n          />\n          <photo-slider\n            :items="items"\n            :visible="visible"\n            :index="index"\n            @changeIndex="changeIndex"\n            @clickMask="handleHide"\n            @closeModal="handleHide"\n          />\n        '};var _handleShow}))),Object(esm.b)("h2",{id:"props"},"Props"),Object(esm.b)("h3",{id:"photoprovider"},"PhotoProvider"),Object(esm.b)(dist_esm.b,{of:PhotoProvider.a,mdxType:"ArgsTable"}),Object(esm.b)("h3",{id:"photoconsumer"},"PhotoConsumer"),Object(esm.b)(dist_esm.b,{of:PhotoConsumer.a,mdxType:"ArgsTable"}),Object(esm.b)("h3",{id:"photoslider"},"PhotoSlider"),Object(esm.b)(dist_esm.b,{of:PhotoSlider.a,mdxType:"ArgsTable"}))}MDXContent.isMDXComponent=!0;var Test_stories_=function 默认展示(){return{data:function data(){return{imgList:imgList}},components:{PhotoProvider:vue3_photo_preview_esm.b,PhotoConsumer:vue3_photo_preview_esm.a,ViewBox:ViewBox},template:'\n          <photo-provider>\n            <photo-consumer v-for="src in imgList" :intro="src" :key="src" :src="src">\n              <view-box :src="src" />\n            </photo-consumer>\n          </photo-provider>\n        '}};Test_stories_.storyName="默认展示",Test_stories_.parameters={storySource:{source:'() => ({\n  data() {\n    return {\n      imgList\n    };\n  },\n\n  components: {\n    PhotoProvider,\n    PhotoConsumer,\n    ViewBox\n  },\n  template: `\n          <photo-provider>\n            <photo-consumer v-for="src in imgList" :intro="src" :key="src" :src="src">\n              <view-box :src="src" />\n            </photo-consumer>\n          </photo-provider>\n        `\n})'}};var stories_Test_stories_=function 通过按钮触发(){return{data:function data(){return{imgList:imgList}},components:{PhotoProvider:vue3_photo_preview_esm.b,PhotoConsumer:vue3_photo_preview_esm.a},template:'\n          <photo-provider>\n            <photo-consumer v-for="(src, index) in imgList" :intro="src" :key="src" :src="src">\n              <button v-if="index === 0">打开预览</button>\n            </photo-consumer>\n          </photo-provider>\n        '}};stories_Test_stories_.storyName="通过按钮触发",stories_Test_stories_.parameters={storySource:{source:'() => ({\n  data() {\n    return {\n      imgList\n    };\n  },\n\n  components: {\n    PhotoProvider,\n    PhotoConsumer\n  },\n  template: `\n          <photo-provider>\n            <photo-consumer v-for="(src, index) in imgList" :intro="src" :key="src" :src="src">\n              <button v-if="index === 0">打开预览</button>\n            </photo-consumer>\n          </photo-provider>\n        `\n})'}};var src_stories_Test_stories_=function 异步更新图片地址(){return{data:function data(){return{index:0}},computed:{imageSrc:function imageSrc(){return imgList[this.index]}},methods:{asyncChangeSrc:function asyncChangeSrc(){var _this2=this;setTimeout((function(){var index=_this2.index+1;_this2.index=index%imgList.length}),3e3)}},components:{PhotoProvider:vue3_photo_preview_esm.b,PhotoConsumer:vue3_photo_preview_esm.a},template:'\n          <photo-provider>\n            <photo-consumer :intro="imageSrc" :src="imageSrc">\n              <button @click="asyncChangeSrc">打开预览</button>\n            </photo-consumer>\n          </photo-provider>\n        '}};src_stories_Test_stories_.storyName="异步更新图片地址",src_stories_Test_stories_.parameters={storySource:{source:'() => ({\n  data() {\n    return {\n      index: 0\n    };\n  },\n\n  computed: {\n    imageSrc() {\n      return imgList[this.index];\n    }\n\n  },\n  methods: {\n    asyncChangeSrc() {\n      setTimeout(() => {\n        const index = this.index + 1;\n        this.index = index % imgList.length;\n      }, 3000);\n    }\n\n  },\n  components: {\n    PhotoProvider,\n    PhotoConsumer\n  },\n  template: `\n          <photo-provider>\n            <photo-consumer :intro="imageSrc" :src="imageSrc">\n              <button @click="asyncChangeSrc">打开预览</button>\n            </photo-consumer>\n          </photo-provider>\n        `\n})'}};var src_stories_Test_stories_0=function 受控延迟预览(){return{data:function data(){return{imgList:imgList,index:0,visible:!1,items:imgList.map((function(src){return{src:src,key:src,intro:src}}))}},methods:{changeIndex:function changeIndex(index){this.index=index},delay:function delay(time){return new Promise((function(resolve,reject){setTimeout((function(){resolve()}),1e3*time)}))},handleShow:(_handleShow2=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(key){var itemIndex;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.next=2,this.delay(3);case 2:(itemIndex=this.items.findIndex((function(item){return item.key===key})))>-1&&(this.index=itemIndex,this.visible=!0);case 4:case"end":return _context2.stop()}}),_callee2,this)}))),function handleShow(_x2){return _handleShow2.apply(this,arguments)}),handleHide:function handleHide(){this.visible=!1}},components:{PhotoSlider:vue3_photo_preview_esm.c,ViewBox:ViewBox},template:'\n          <view-box\n            v-for="src in imgList"\n            :key="src"\n            :src="src"\n            @click="handleShow(src)"\n          />\n          <photo-slider\n            :items="items"\n            :visible="visible"\n            :index="index"\n            @changeIndex="changeIndex"\n            @clickMask="handleHide"\n            @closeModal="handleHide"\n          />\n        '};var _handleShow2};src_stories_Test_stories_0.storyName="受控延迟预览",src_stories_Test_stories_0.parameters={storySource:{source:'() => ({\n  data() {\n    return {\n      imgList,\n      index: 0,\n      visible: false,\n      items: imgList.map(src => ({\n        src,\n        key: src,\n        intro: src\n      }))\n    };\n  },\n\n  methods: {\n    changeIndex(index) {\n      this.index = index;\n    },\n\n    delay(time) {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => {\n          resolve();\n        }, time * 1000);\n      });\n    },\n\n    async handleShow(key) {\n      await this.delay(3);\n      const itemIndex = this.items.findIndex(item => item.key === key);\n\n      if (itemIndex > -1) {\n        this.index = itemIndex;\n        this.visible = true;\n      }\n    },\n\n    handleHide() {\n      this.visible = false;\n    }\n\n  },\n  components: {\n    PhotoSlider,\n    ViewBox\n  },\n  template: `\n          <view-box\n            v-for="src in imgList"\n            :key="src"\n            :src="src"\n            @click="handleShow(src)"\n          />\n          <photo-slider\n            :items="items"\n            :visible="visible"\n            :index="index"\n            @changeIndex="changeIndex"\n            @clickMask="handleHide"\n            @closeModal="handleHide"\n          />\n        `\n})'}};var componentMeta={title:"vue3-photo-preview",includeStories:["默认展示","通过按钮触发","异步更新图片地址","受控延迟预览"]},mdxStoryNameToKey={"默认展示":"默认展示","通过按钮触发":"通过按钮触发","异步更新图片地址":"异步更新图片地址","受控延迟预览":"受控延迟预览"};componentMeta.parameters=componentMeta.parameters||{},componentMeta.parameters.docs=Object.assign({},componentMeta.parameters.docs||{},{page:function page(){return Object(esm.b)(dist_esm.a,{mdxStoryNameToKey:mdxStoryNameToKey,mdxComponentMeta:componentMeta},Object(esm.b)(MDXContent,null))}});__webpack_exports__.default=componentMeta},858:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__(25),__webpack_require__(7),__webpack_require__(55),__webpack_require__(10),__webpack_require__(436),__webpack_require__(49),__webpack_require__(437),__webpack_require__(834);var client_api=__webpack_require__(865),esm=__webpack_require__(6),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.a.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return Object(client_api.c)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(client_api.d)(loader,!1)}));case"parameters":return Object(client_api.e)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(client_api.a)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(client_api.b)(enhancer)}));case"render":return Object(client_api.g)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(client_api.e)(v,!1);default:return console.log(key+" was not supported :( !")}}))}},[[494,2,3]]]);